<TabItem x:Class="JsonFlier.UserControls.TabsControl.CloseableTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
         xmlns:mock="clr-namespace:JsonFlier.Mock"
         mc:Ignorable="d" d:DesignWidth="81" Margin="0" Height="20px">
    <TabItem.Resources>
        <mock:MockText x:Key="MockText" />
        <ControlTemplate x:Key="tabButton" TargetType="Button">
            <Grid x:Name="background">
                <ContentPresenter />
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="background" Property="Background" Value="#90ff0000"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </TabItem.Resources>
    <TabItem.Template>
        <ControlTemplate TargetType="TabItem">
            <Grid Name="Panel" Background="White">
                <Grid Height="18px" VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="4"/>
                        <ColumnDefinition Width="16"/>
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="3" Name="button_close" ToolTip="Close" Template="{StaticResource tabButton}" Click="ButtonClose_Click" Visibility="Hidden">
                        <Path x:Name="icon" Grid.Column="3" Data="M0,0L12,12M0,12L12,0" Stroke="Black" Width="12" Height="12" StrokeThickness="2" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Fill"/>
                    </Button>
                    <!--Text="{Binding Title}"-->
                    <TextBlock Grid.Column="1" Name="label_TabTitle" Text="{Binding Title}" d:DataContext="{Binding Source={StaticResource MockText}}" Height="18" HorizontalAlignment="Left" VerticalAlignment="Center" FontFamily="Courier" FontSize="13" Padding="2" SizeChanged="TabTitle_SizeChanged"/>
                </Grid>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger SourceName="Panel" Property="IsMouseOver" Value="True">
                    <Setter TargetName="Panel" Property="Background" Value="#FF2B81FF" />
                    <Setter TargetName="button_close" Property="Visibility" Value="Visible"/>
                </Trigger>
                <Trigger Property="IsSelected" Value="True">
                    <Setter TargetName="button_close" Property="Visibility" Value="Visible"/>
                    <Setter TargetName="Panel" Property="Background" Value="#FF8EBCFF" />
                    <!--<Setter TargetName="label_TabTitle" Property="Foreground" Value="White" />
                    <Setter TargetName="icon" Property="Stroke" Value="White" />-->
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </TabItem.Template>
</TabItem>